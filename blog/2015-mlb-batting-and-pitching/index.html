<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>2015 MLB Batting and Pitching | Drug Discovery in Python</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<script src="https://kit.fontawesome.com/990cab5c0e.js"></script><meta name="theme-color" content="#00008b">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://www.danielprusso.com/blog/2015-mlb-batting-and-pitching/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Daniel P. Russo">
<link rel="next" href="../a-brief-introduction-to-smarts/" title="A Brief Introduction to SMARTS" type="text/html">
<meta property="og:site_name" content="Drug Discovery in Python">
<meta property="og:title" content="2015 MLB Batting and Pitching">
<meta property="og:url" content="http://www.danielprusso.com/blog/2015-mlb-batting-and-pitching/">
<meta property="og:description" content="I've always enjoyed presentation and design.  Whether it's nice looking powerpoint slides, neat figures from science articles, album covers, shirts, whatever.  So, when I think about which package in ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-02-28T16:50:01-04:00">
<link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<header class="container"><div class="row" style="height: 200px;">
        <div class="col-md-3">
            <img width="200px" height="200px" src="../../images/headshot_circle_website.png">
</div>
        <div class="col-md-9" style="top: 20%; position: relative; vertical-align: middle">              
                <p style="color:#999;font-size: 1.0em;">
                    Daniel Russo is a computational biologist, biochemist, and toxicologist.  His research includes developing computational models for complex biological
                     processes as alternatives to traditional <i>in vivo</i> animal tests.  A native of southern New Jersey, he receieved his PhD in 
                    Computational and Integrative Biology, as well as his M.S. and B.S. in Biology, from Rutgers University.
                </p>
        </div>
    </div>
</header><!-- Menubar --><nav class="navbar navbar-expand-md static-top mb-4 navbar-dark" style="background-color: rgb(85, 152, 253);"><div class="container my-blue">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="http://www.danielprusso.com/">

            <span id="blog-title">Drug Discovery in Python</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../index.html" class="nav-link">Home</a>
                </li>
<li class="nav-item">
<a href="../../research/index.html" class="nav-link">Research</a>
                </li>
<li class="nav-item">
<a href="../index.html" class="nav-link">Blog</a>
                </li>
<li class="nav-item">
<a href="../../software/index.html" class="nav-link">Software</a>
                </li>
<li class="nav-item">
<a href="../../cv/Daniel_P_Russo_CV.pdf" class="nav-link">CV</a>
                </li>
<li class="nav-item">
<a href="../../contact/index.html" class="nav-link">Contact</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">

    <div class="body-content">
        <!--Body content-->
        
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">2015 MLB Batting and Pitching</a></h1>

        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I've always enjoyed presentation and design.  Whether it's nice looking powerpoint slides, neat figures from science articles, album covers, shirts, whatever.  So, when I think about which package in Python I have come to enjoy most, I think it's undoubtedly <a href="http://bokeh.pydata.org/en/latest/">Bokeh</a>.  While it's probably not as powerful as matplotlib (no support for 3D plots yet), I think the figures you can create look really stunning.  The plots are produced in JavaScript, so they can be dynamic and integrate easily to the web.</p>
<p>Lately, I've been making figures using baseball data as practice (I'm sure I'll soon do this with chemical data, too).  I'll probably post a bunch more of these because they're so much fun to create. As a start, I downloaded batting and pitching statistics for all the MLB teams in the 2015 regular season from <a href="http://www.baseball-reference.com/">Baseball Reference</a>.  The hardest part about generating these graphs was finding the hex color codes for all the MLB teams in some sort of downloadable format.  Luckily, I was able to find them (although I don't remember where).</p>
<p>Here a simple plot of batting statistics (batting average, slugging percentage, and on-base percentage) and pitching statistics (earned run average, walks and hits per inning pitched, and strikeouts to walks ratio).</p>
<p>Just in time, too.  The Phillies played their first spring training game today.</p>
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># first import Pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Retrieve the team colors that were downloaded in an XML file</span>

<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">'files/colors.xml'</span><span class="p">)</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>

<span class="c1"># Parse through the XML</span>

<span class="n">teams</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">name</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="p">:</span>
    <span class="n">teams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="n">name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="p">)):</span>
        <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>

<span class="c1"># load the data in a Pandas dataframe</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">'Teams'</span><span class="p">]</span> <span class="o">=</span> <span class="n">teams</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'Abbrv'</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'Colors'</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Abbrv'</span><span class="p">]</span>


<span class="c1"># load the stats into a Pandas dataframe</span>

<span class="n">bat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'files/leagues_MLB_2015_teams_standard_batting.csv'</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">pitch</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'files/leagues_MLB_2015_teams_standard_pitching.csv'</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">bat</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">]],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pitch</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">]],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
    <div class="bk-root">
        <a href="https://bokeh.pydata.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span id="1001">Loading BokehJS ...</span>
    </div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>





<div id="d0297999-1261-4203-a038-064051927434" class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d0297999-1261-4203-a038-064051927434');

(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  var JS_MIME_TYPE = 'application/javascript';
  var HTML_MIME_TYPE = 'text/html';
  var EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  var CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    var script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    var cell = handle.cell;

    var id = cell.output_area._bokeh_element_id;
    var server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      var cmd = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd, {
        iopub: {
          output: function(msg) {
            var id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      var cmd = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    var output_area = handle.output_area;
    var output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {
      return
    }

    var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      var bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      var script_attrs = bk_div.children[0].attributes;
      for (var i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      var toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }

  
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  var NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    var el = document.getElementById("1001");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }


  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error() {
      console.error("failed to load " + url);
    }

    for (var i = 0; i < css_urls.length; i++) {
      var url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error;
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (var i = 0; i < js_urls.length; i++) {
      var url = js_urls[i];
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };var element = document.getElementById("1001");
  if (element == null) {
    console.error("Bokeh: ERROR: autoload.js configured with elementid '1001' but no matching script tag was found. ")
    return false;
  }

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  var js_urls = ["https://cdn.pydata.org/bokeh/release/bokeh-1.3.4.min.js", "https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.3.4.min.js", "https://cdn.pydata.org/bokeh/release/bokeh-tables-1.3.4.min.js", "https://cdn.pydata.org/bokeh/release/bokeh-gl-1.3.4.min.js"];
  var css_urls = [];

  var inline_js = [
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    
    function(Bokeh) {
      
    },
    function(Bokeh) {} // ensure no trailing comma for IE
  ];

  function run_inline_js() {
    
    if ((root.Bokeh !== undefined) || (force === true)) {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i].call(root, root.Bokeh);
      }if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      var cell = $(document.getElementById("1001")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }

  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">x_range</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> 
             <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">"MLB Batting"</span><span class="p">)</span>

<span class="c1">####################################### BA data ####################################</span>

<span class="n">fig</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'BA'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"League AVG"</span>
           <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'BA'</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"AVG."</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'BA'</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> 
            <span class="n">fill_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>

<span class="c1">####################################### OBP data ####################################</span>

<span class="n">fig</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'OBP'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'red'</span>
           <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'OBP'</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"OBP"</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'OBP'</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> 
            <span class="n">fill_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>

<span class="c1">####################################### SLG data #####################################</span>

<span class="n">fig</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'SLG'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'red'</span>
           <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'SLG'</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"SLG"</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">bat</span><span class="p">[</span><span class="s1">'SLG'</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> 
            <span class="n">fill_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>


<span class="n">fig</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">major_label_orientation</span> <span class="o">=</span> <span class="mf">3.14</span><span class="o">/</span><span class="mi">4</span>
<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="s2">"horizontal"</span>
<span class="n">fig</span><span class="o">.</span><span class="n">background_fill_color</span> <span class="o">=</span> <span class="s2">"beige"</span>
<span class="n">fig</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">grid_line_color</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">





  <div class="bk-root" id="09655658-ae35-4749-9a9a-353cdebf60d9" data-root-id="1714"></div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>





<div id="fed17479-76f9-4012-980b-b22517ccf3fc" class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#fed17479-76f9-4012-980b-b22517ccf3fc');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"886124c3-ef15-45fa-8e50-579b46dcd471":{"roots":{"references":[{"attributes":{"background_fill_color":{"value":"beige"},"below":[{"id":"1725","type":"CategoricalAxis"}],"center":[{"id":"1728","type":"Grid"},{"id":"1733","type":"Grid"},{"id":"1758","type":"Legend"}],"left":[{"id":"1729","type":"LinearAxis"}],"renderers":[{"id":"1750","type":"GlyphRenderer"},{"id":"1763","type":"GlyphRenderer"},{"id":"1777","type":"GlyphRenderer"},{"id":"1782","type":"GlyphRenderer"},{"id":"1787","type":"GlyphRenderer"},{"id":"1807","type":"GlyphRenderer"},{"id":"1812","type":"GlyphRenderer"},{"id":"1817","type":"GlyphRenderer"},{"id":"1843","type":"GlyphRenderer"}],"title":{"id":"1715","type":"Title"},"toolbar":{"id":"1740","type":"Toolbar"},"x_range":{"id":"1717","type":"FactorRange"},"x_scale":{"id":"1721","type":"CategoricalScale"},"y_range":{"id":"1719","type":"Range1d"},"y_scale":{"id":"1723","type":"LinearScale"}},"id":"1714","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1726","type":"CategoricalTicker"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"field":"fill_color"},"line_alpha":{"value":0.8},"line_color":{"field":"line_color"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"1805","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"1806","type":"Circle"},{"attributes":{"data_source":{"id":"1804","type":"ColumnDataSource"},"glyph":{"id":"1805","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1806","type":"Circle"},"selection_glyph":null,"view":{"id":"1808","type":"CDSView"}},"id":"1807","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"value":0.4045666666666668}},"id":"1811","type":"Line"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["0.414","0.359","0.421","0.415","0.398","0.38","0.394","0.401","0.432","0.42","0.437","0.412","0.396","0.413","0.384","0.393","0.399","0.4","0.421","0.395","0.382","0.396","0.385","0.411","0.406","0.394","0.406","0.413","0.457","0.403"]},"selected":{"id":"1889","type":"Selection"},"selection_policy":{"id":"1888","type":"UnionRenderers"}},"id":"1814","type":"ColumnDataSource"},{"attributes":{"callback":null,"factors":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"id":"1717","type":"FactorRange"},{"attributes":{"source":{"id":"1804","type":"ColumnDataSource"}},"id":"1808","type":"CDSView"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"value":0.4045666666666668}},"id":"1810","type":"Line"},{"attributes":{"data_source":{"id":"1809","type":"ColumnDataSource"},"glyph":{"id":"1810","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1811","type":"Line"},"selection_glyph":null,"view":{"id":"1813","type":"CDSView"}},"id":"1812","type":"GlyphRenderer"},{"attributes":{"callback":null,"data":{"fill_color":["#A71930","#FFFFFF","#000000","#BD3039","#0E3386","#000000","#FF0028","#002B5C","#333366","#0C2C56","#002D62","#004687","#BA0021","#FFFFFF","#FFFFFF","#FFFFFF","#042462","#FFFFFF","#132448","#003831","#FFFFFF","#FFFFFF","#FFFFFF","#002B5C","#000000","#FFFFFF","#092C5C","#003278","#134A8E","#FFFFFF"],"line_color":["#E3D4AD","#13274F","#ED4C09","#0D2B56","#CC3433","#CCCCCC","#000000","#E31937","#C4CED4","#FF6600","#EB6E1F","#74B4FA","#003263","#005A9C","#000000","#182B49","#D31145","#002D72","#CCCCCC","#EFB21E","#BA0C2F","#000000","#041E42","#006C67","#FD5A1E","#C41E3A","#8FBCE6","#C0111F","#1D2D5C","#AB0003"],"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["0.414","0.359","0.421","0.415","0.398","0.38","0.394","0.401","0.432","0.42","0.437","0.412","0.396","0.413","0.384","0.393","0.399","0.4","0.421","0.395","0.382","0.396","0.385","0.411","0.406","0.394","0.406","0.413","0.457","0.403"]},"selected":{"id":"1891","type":"Selection"},"selection_policy":{"id":"1890","type":"UnionRenderers"}},"id":"1840","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.8,"line_color":"blue","line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1815","type":"Line"},{"attributes":{"source":{"id":"1809","type":"ColumnDataSource"}},"id":"1813","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1816","type":"Line"},{"attributes":{"data_source":{"id":"1814","type":"ColumnDataSource"},"glyph":{"id":"1815","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1816","type":"Line"},"selection_glyph":null,"view":{"id":"1818","type":"CDSView"}},"id":"1817","type":"GlyphRenderer"},{"attributes":{},"id":"1833","type":"Selection"},{"attributes":{},"id":"1737","type":"SaveTool"},{"attributes":{},"id":"1832","type":"UnionRenderers"},{"attributes":{"source":{"id":"1814","type":"ColumnDataSource"}},"id":"1818","type":"CDSView"},{"attributes":{},"id":"1730","type":"BasicTicker"},{"attributes":{"text":"MLB Batting"},"id":"1715","type":"Title"},{"attributes":{},"id":"1834","type":"UnionRenderers"},{"attributes":{},"id":"1835","type":"Selection"},{"attributes":{},"id":"1836","type":"UnionRenderers"},{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"1730","type":"BasicTicker"}},"id":"1733","type":"Grid"},{"attributes":{},"id":"1837","type":"Selection"},{"attributes":{"label":{"value":"SLG"},"renderers":[{"id":"1817","type":"GlyphRenderer"}]},"id":"1839","type":"LegendItem"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"value":0.2544}},"id":"1749","type":"Line"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"value":0.2544}},"id":"1748","type":"Line"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"selected":{"id":"1771","type":"Selection"},"selection_policy":{"id":"1770","type":"UnionRenderers"}},"id":"1747","type":"ColumnDataSource"},{"attributes":{},"id":"1734","type":"PanTool"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["0.264","0.251","0.25","0.265","0.244","0.25","0.248","0.256","0.265","0.27","0.25","0.269","0.246","0.25","0.26","0.251","0.247","0.244","0.251","0.251","0.249","0.26","0.243","0.249","0.267","0.253","0.252","0.257","0.269","0.251"]},"selected":{"id":"1797","type":"Selection"},"selection_policy":{"id":"1796","type":"UnionRenderers"}},"id":"1760","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"field":"fill_color"},"line_alpha":{"value":0.8},"line_color":{"field":"line_color"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"1841","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"1842","type":"Circle"},{"attributes":{},"id":"1735","type":"WheelZoomTool"},{"attributes":{"data_source":{"id":"1840","type":"ColumnDataSource"},"glyph":{"id":"1841","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1842","type":"Circle"},"selection_glyph":null,"view":{"id":"1844","type":"CDSView"}},"id":"1843","type":"GlyphRenderer"},{"attributes":{"overlay":{"id":"1757","type":"BoxAnnotation"}},"id":"1736","type":"BoxZoomTool"},{"attributes":{"source":{"id":"1840","type":"ColumnDataSource"}},"id":"1844","type":"CDSView"},{"attributes":{},"id":"1888","type":"UnionRenderers"},{"attributes":{"callback":null,"end":0.5,"start":0.2},"id":"1719","type":"Range1d"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"value":0.31666666666666665}},"id":"1781","type":"Line"},{"attributes":{},"id":"1738","type":"ResetTool"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"field":"fill_color"},"line_alpha":{"value":0.8},"line_color":{"field":"line_color"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"1775","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"1776","type":"Circle"},{"attributes":{},"id":"1739","type":"HelpTool"},{"attributes":{},"id":"1889","type":"Selection"},{"attributes":{"data_source":{"id":"1774","type":"ColumnDataSource"},"glyph":{"id":"1775","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1776","type":"Circle"},"selection_glyph":null,"view":{"id":"1778","type":"CDSView"}},"id":"1777","type":"GlyphRenderer"},{"attributes":{},"id":"1890","type":"UnionRenderers"},{"attributes":{},"id":"1891","type":"Selection"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1734","type":"PanTool"},{"id":"1735","type":"WheelZoomTool"},{"id":"1736","type":"BoxZoomTool"},{"id":"1737","type":"SaveTool"},{"id":"1738","type":"ResetTool"},{"id":"1739","type":"HelpTool"}]},"id":"1740","type":"Toolbar"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"value":0.31666666666666665}},"id":"1780","type":"Line"},{"attributes":{"source":{"id":"1774","type":"ColumnDataSource"}},"id":"1778","type":"CDSView"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["0.324","0.314","0.307","0.325","0.321","0.306","0.312","0.325","0.315","0.328","0.315","0.322","0.307","0.326","0.31","0.307","0.305","0.312","0.323","0.312","0.303","0.323","0.3","0.311","0.326","0.321","0.314","0.325","0.34","0.321"]},"selected":{"id":"1833","type":"Selection"},"selection_policy":{"id":"1832","type":"UnionRenderers"}},"id":"1784","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"1754","type":"CategoricalTickFormatter"},"major_label_orientation":0.785,"ticker":{"id":"1726","type":"CategoricalTicker"}},"id":"1725","type":"CategoricalAxis"},{"attributes":{"data_source":{"id":"1779","type":"ColumnDataSource"},"glyph":{"id":"1780","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1781","type":"Line"},"selection_glyph":null,"view":{"id":"1783","type":"CDSView"}},"id":"1782","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.8,"line_color":"grey","line_dash":[4,8],"line_width":4,"x":{"field":"x"},"y":{"field":"y"}},"id":"1785","type":"Line"},{"attributes":{},"id":"1756","type":"BasicTickFormatter"},{"attributes":{"data_source":{"id":"1747","type":"ColumnDataSource"},"glyph":{"id":"1748","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1749","type":"Line"},"selection_glyph":null,"view":{"id":"1751","type":"CDSView"}},"id":"1750","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1779","type":"ColumnDataSource"}},"id":"1783","type":"CDSView"},{"attributes":{"source":{"id":"1747","type":"ColumnDataSource"}},"id":"1751","type":"CDSView"},{"attributes":{"callback":null,"data":{"fill_color":["#A71930","#FFFFFF","#000000","#BD3039","#0E3386","#000000","#FF0028","#002B5C","#333366","#0C2C56","#002D62","#004687","#BA0021","#FFFFFF","#FFFFFF","#FFFFFF","#042462","#FFFFFF","#132448","#003831","#FFFFFF","#FFFFFF","#FFFFFF","#002B5C","#000000","#FFFFFF","#092C5C","#003278","#134A8E","#FFFFFF"],"line_color":["#E3D4AD","#13274F","#ED4C09","#0D2B56","#CC3433","#CCCCCC","#000000","#E31937","#C4CED4","#FF6600","#EB6E1F","#74B4FA","#003263","#005A9C","#000000","#182B49","#D31145","#002D72","#CCCCCC","#EFB21E","#BA0C2F","#000000","#041E42","#006C67","#FD5A1E","#C41E3A","#8FBCE6","#C0111F","#1D2D5C","#AB0003"],"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["0.324","0.314","0.307","0.325","0.321","0.306","0.312","0.325","0.315","0.328","0.315","0.322","0.307","0.326","0.31","0.307","0.305","0.312","0.323","0.312","0.303","0.323","0.3","0.311","0.326","0.321","0.314","0.325","0.34","0.321"]},"selected":{"id":"1835","type":"Selection"},"selection_policy":{"id":"1834","type":"UnionRenderers"}},"id":"1804","type":"ColumnDataSource"},{"attributes":{},"id":"1754","type":"CategoricalTickFormatter"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1757","type":"BoxAnnotation"},{"attributes":{"callback":null,"data":{"fill_color":["#A71930","#FFFFFF","#000000","#BD3039","#0E3386","#000000","#FF0028","#002B5C","#333366","#0C2C56","#002D62","#004687","#BA0021","#FFFFFF","#FFFFFF","#FFFFFF","#042462","#FFFFFF","#132448","#003831","#FFFFFF","#FFFFFF","#FFFFFF","#002B5C","#000000","#FFFFFF","#092C5C","#003278","#134A8E","#FFFFFF"],"line_color":["#E3D4AD","#13274F","#ED4C09","#0D2B56","#CC3433","#CCCCCC","#000000","#E31937","#C4CED4","#FF6600","#EB6E1F","#74B4FA","#003263","#005A9C","#000000","#182B49","#D31145","#002D72","#CCCCCC","#EFB21E","#BA0C2F","#000000","#041E42","#006C67","#FD5A1E","#C41E3A","#8FBCE6","#C0111F","#1D2D5C","#AB0003"],"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["0.264","0.251","0.25","0.265","0.244","0.25","0.248","0.256","0.265","0.27","0.25","0.269","0.246","0.25","0.26","0.251","0.247","0.244","0.251","0.251","0.249","0.26","0.243","0.249","0.267","0.253","0.252","0.257","0.269","0.251"]},"selected":{"id":"1799","type":"Selection"},"selection_policy":{"id":"1798","type":"UnionRenderers"}},"id":"1774","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[4,8],"line_width":4,"x":{"field":"x"},"y":{"field":"y"}},"id":"1786","type":"Line"},{"attributes":{},"id":"1721","type":"CategoricalScale"},{"attributes":{"items":[{"id":"1759","type":"LegendItem"},{"id":"1773","type":"LegendItem"},{"id":"1803","type":"LegendItem"},{"id":"1839","type":"LegendItem"}],"orientation":"horizontal"},"id":"1758","type":"Legend"},{"attributes":{"data_source":{"id":"1784","type":"ColumnDataSource"},"glyph":{"id":"1785","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1786","type":"Line"},"selection_glyph":null,"view":{"id":"1788","type":"CDSView"}},"id":"1787","type":"GlyphRenderer"},{"attributes":{"label":{"value":"League AVG"},"renderers":[{"id":"1750","type":"GlyphRenderer"}]},"id":"1759","type":"LegendItem"},{"attributes":{},"id":"1797","type":"Selection"},{"attributes":{"line_alpha":0.8,"line_dash":[1,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1761","type":"Line"},{"attributes":{"formatter":{"id":"1756","type":"BasicTickFormatter"},"ticker":{"id":"1730","type":"BasicTicker"}},"id":"1729","type":"LinearAxis"},{"attributes":{"source":{"id":"1784","type":"ColumnDataSource"}},"id":"1788","type":"CDSView"},{"attributes":{},"id":"1796","type":"UnionRenderers"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[1,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1762","type":"Line"},{"attributes":{"grid_line_color":null,"ticker":{"id":"1726","type":"CategoricalTicker"}},"id":"1728","type":"Grid"},{"attributes":{},"id":"1723","type":"LinearScale"},{"attributes":{},"id":"1798","type":"UnionRenderers"},{"attributes":{},"id":"1799","type":"Selection"},{"attributes":{"data_source":{"id":"1760","type":"ColumnDataSource"},"glyph":{"id":"1761","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1762","type":"Line"},"selection_glyph":null,"view":{"id":"1764","type":"CDSView"}},"id":"1763","type":"GlyphRenderer"},{"attributes":{},"id":"1800","type":"UnionRenderers"},{"attributes":{},"id":"1801","type":"Selection"},{"attributes":{"label":{"value":"OBP"},"renderers":[{"id":"1787","type":"GlyphRenderer"}]},"id":"1803","type":"LegendItem"},{"attributes":{},"id":"1770","type":"UnionRenderers"},{"attributes":{"source":{"id":"1760","type":"ColumnDataSource"}},"id":"1764","type":"CDSView"},{"attributes":{},"id":"1771","type":"Selection"},{"attributes":{"label":{"value":"AVG."},"renderers":[{"id":"1763","type":"GlyphRenderer"}]},"id":"1773","type":"LegendItem"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"selected":{"id":"1837","type":"Selection"},"selection_policy":{"id":"1836","type":"UnionRenderers"}},"id":"1809","type":"ColumnDataSource"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"selected":{"id":"1801","type":"Selection"},"selection_policy":{"id":"1800","type":"UnionRenderers"}},"id":"1779","type":"ColumnDataSource"}],"root_ids":["1714"]},"title":"Bokeh Application","version":"1.3.4"}};
  var render_items = [{"docid":"886124c3-ef15-45fa-8e50-579b46dcd471","roots":{"1714":"09655658-ae35-4749-9a9a-353cdebf60d9"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        embed_document(root);
        clearInterval(timer);
      }
      attempts++;
      if (attempts > 100) {
        console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        clearInterval(timer);
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig2</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">x_range</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">],</span> 
              <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> 
              <span class="n">title</span><span class="o">=</span><span class="s2">"MLB Pitching"</span><span class="p">)</span>

<span class="c1">####################################### ERA data ############################</span>


<span class="n">fig2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'ERA'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"League AVG"</span>
           <span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'ERA'</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"ERA"</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'ERA'</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> 
            <span class="n">fill_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>

<span class="c1">####################################### SO/W data ############################</span>

<span class="n">fig2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'SO/W'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'red'</span>
           <span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'SO/W'</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"SO/W"</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'SO/W'</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> 
            <span class="n">fill_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>

<span class="c1">####################################### WHIP data ############################</span>

<span class="n">fig2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'WHIP'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'red'</span>
           <span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'WHIP'</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="s2">"WHIP"</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pitch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">pitch</span><span class="p">[</span><span class="s1">'WHIP'</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> 
            <span class="n">fill_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Colors</span><span class="p">[</span><span class="n">tm</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tm</span> <span class="ow">in</span> <span class="n">bat</span><span class="o">.</span><span class="n">index</span><span class="p">],</span>
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span>
           <span class="p">)</span>


<span class="n">fig2</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">major_label_orientation</span> <span class="o">=</span> <span class="mf">3.14</span><span class="o">/</span><span class="mi">4</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">legend</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="s2">"horizontal"</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">background_fill_color</span> <span class="o">=</span> <span class="s2">"beige"</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">grid_line_color</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">show</span><span class="p">(</span><span class="n">fig2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">





  <div class="bk-root" id="9019da04-6d4b-485b-83e9-75e16460d4a1" data-root-id="4425"></div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>





<div id="b1d93335-ffb3-42c4-9edf-56c1a1ba70ce" class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#b1d93335-ffb3-42c4-9edf-56c1a1ba70ce');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"094d77bf-f0f7-4189-92e3-f5bb8a05f4e3":{"roots":{"references":[{"attributes":{"background_fill_color":{"value":"beige"},"below":[{"id":"4436","type":"CategoricalAxis"}],"center":[{"id":"4439","type":"Grid"},{"id":"4444","type":"Grid"},{"id":"4469","type":"Legend"}],"left":[{"id":"4440","type":"LinearAxis"}],"renderers":[{"id":"4461","type":"GlyphRenderer"},{"id":"4474","type":"GlyphRenderer"},{"id":"4488","type":"GlyphRenderer"},{"id":"4493","type":"GlyphRenderer"},{"id":"4498","type":"GlyphRenderer"},{"id":"4518","type":"GlyphRenderer"},{"id":"4523","type":"GlyphRenderer"},{"id":"4528","type":"GlyphRenderer"},{"id":"4554","type":"GlyphRenderer"}],"title":{"id":"4426","type":"Title"},"toolbar":{"id":"4451","type":"Toolbar"},"x_range":{"id":"4428","type":"FactorRange"},"x_scale":{"id":"4432","type":"CategoricalScale"},"y_range":{"id":"4430","type":"Range1d"},"y_scale":{"id":"4434","type":"LinearScale"}},"id":"4425","subtype":"Figure","type":"Plot"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[4,8],"line_width":4,"x":{"field":"x"},"y":{"field":"y"}},"id":"4527","type":"Line"},{"attributes":{"data_source":{"id":"4495","type":"ColumnDataSource"},"glyph":{"id":"4496","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4497","type":"Line"},"selection_glyph":null,"view":{"id":"4499","type":"CDSView"}},"id":"4498","type":"GlyphRenderer"},{"attributes":{"source":{"id":"4458","type":"ColumnDataSource"}},"id":"4462","type":"CDSView"},{"attributes":{},"id":"4441","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"4497","type":"Line"},{"attributes":{},"id":"4448","type":"SaveTool"},{"attributes":{},"id":"4445","type":"PanTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"value":2.7020000000000004}},"id":"4492","type":"Line"},{"attributes":{"data_source":{"id":"4458","type":"ColumnDataSource"},"glyph":{"id":"4459","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4460","type":"Line"},"selection_glyph":null,"view":{"id":"4462","type":"CDSView"}},"id":"4461","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"value":3.956333333333333}},"id":"4460","type":"Line"},{"attributes":{"data_source":{"id":"4485","type":"ColumnDataSource"},"glyph":{"id":"4486","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4487","type":"Circle"},"selection_glyph":null,"view":{"id":"4489","type":"CDSView"}},"id":"4488","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"4490","type":"ColumnDataSource"},"glyph":{"id":"4491","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4492","type":"Line"},"selection_glyph":null,"view":{"id":"4494","type":"CDSView"}},"id":"4493","type":"GlyphRenderer"},{"attributes":{},"id":"4449","type":"ResetTool"},{"attributes":{"data_source":{"id":"4525","type":"ColumnDataSource"},"glyph":{"id":"4526","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4527","type":"Line"},"selection_glyph":null,"view":{"id":"4529","type":"CDSView"}},"id":"4528","type":"GlyphRenderer"},{"attributes":{"source":{"id":"4485","type":"ColumnDataSource"}},"id":"4489","type":"CDSView"},{"attributes":{"data_source":{"id":"4520","type":"ColumnDataSource"},"glyph":{"id":"4521","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4522","type":"Line"},"selection_glyph":null,"view":{"id":"4524","type":"CDSView"}},"id":"4523","type":"GlyphRenderer"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"4445","type":"PanTool"},{"id":"4446","type":"WheelZoomTool"},{"id":"4447","type":"BoxZoomTool"},{"id":"4448","type":"SaveTool"},{"id":"4449","type":"ResetTool"},{"id":"4450","type":"HelpTool"}]},"id":"4451","type":"Toolbar"},{"attributes":{},"id":"4446","type":"WheelZoomTool"},{"attributes":{},"id":"4746","type":"Selection"},{"attributes":{"source":{"id":"4495","type":"ColumnDataSource"}},"id":"4499","type":"CDSView"},{"attributes":{"text":"MLB Pitching"},"id":"4426","type":"Title"},{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"4441","type":"BasicTicker"}},"id":"4444","type":"Grid"},{"attributes":{"callback":null,"data":{"fill_color":["#A71930","#FFFFFF","#000000","#BD3039","#0E3386","#000000","#FF0028","#002B5C","#333366","#0C2C56","#002D62","#004687","#BA0021","#FFFFFF","#FFFFFF","#FFFFFF","#042462","#FFFFFF","#132448","#003831","#FFFFFF","#FFFFFF","#FFFFFF","#002B5C","#000000","#FFFFFF","#092C5C","#003278","#134A8E","#FFFFFF"],"line_color":["#E3D4AD","#13274F","#ED4C09","#0D2B56","#CC3433","#CCCCCC","#000000","#E31937","#C4CED4","#FF6600","#EB6E1F","#74B4FA","#003263","#005A9C","#000000","#182B49","#D31145","#002D72","#CCCCCC","#EFB21E","#BA0C2F","#000000","#041E42","#006C67","#FD5A1E","#C41E3A","#8FBCE6","#C0111F","#1D2D5C","#AB0003"],"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["4.04","4.41","4.05","4.31","3.36","3.98","4.33","3.67","5.04","4.64","3.57","3.73","3.94","3.44","4.02","4.28","4.07","3.43","4.03","4.14","4.69","3.21","4.09","4.16","3.72","2.94","3.74","4.24","3.8","3.62"]},"selected":{"id":"4510","type":"Selection"},"selection_policy":{"id":"4509","type":"UnionRenderers"}},"id":"4485","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"value":1.2945666666666669}},"id":"4522","type":"Line"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"value":2.7020000000000004}},"id":"4491","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"4487","type":"Circle"},{"attributes":{},"id":"4508","type":"Selection"},{"attributes":{"line_alpha":0.8,"line_color":"grey","line_dash":[4,8],"line_width":4,"x":{"field":"x"},"y":{"field":"y"}},"id":"4526","type":"Line"},{"attributes":{},"id":"4507","type":"UnionRenderers"},{"attributes":{"callback":null,"data":{"fill_color":["#A71930","#FFFFFF","#000000","#BD3039","#0E3386","#000000","#FF0028","#002B5C","#333366","#0C2C56","#002D62","#004687","#BA0021","#FFFFFF","#FFFFFF","#FFFFFF","#042462","#FFFFFF","#132448","#003831","#FFFFFF","#FFFFFF","#FFFFFF","#002B5C","#000000","#FFFFFF","#092C5C","#003278","#134A8E","#FFFFFF"],"line_color":["#E3D4AD","#13274F","#ED4C09","#0D2B56","#CC3433","#CCCCCC","#000000","#E31937","#C4CED4","#FF6600","#EB6E1F","#74B4FA","#003263","#005A9C","#000000","#182B49","#D31145","#002D72","#CCCCCC","#EFB21E","#BA0C2F","#000000","#041E42","#006C67","#FD5A1E","#C41E3A","#8FBCE6","#C0111F","#1D2D5C","#AB0003"],"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["1.33","1.412","1.317","1.356","1.152","1.32","1.362","1.186","1.513","1.368","1.201","1.282","1.264","1.184","1.319","1.358","1.33","1.179","1.297","1.299","1.448","1.239","1.31","1.313","1.229","1.254","1.232","1.363","1.214","1.206"]},"selected":{"id":"4746","type":"Selection"},"selection_policy":{"id":"4745","type":"UnionRenderers"}},"id":"4551","type":"ColumnDataSource"},{"attributes":{},"id":"4450","type":"HelpTool"},{"attributes":{"overlay":{"id":"4468","type":"BoxAnnotation"}},"id":"4447","type":"BoxZoomTool"},{"attributes":{"source":{"id":"4551","type":"ColumnDataSource"}},"id":"4555","type":"CDSView"},{"attributes":{"callback":null,"data":{"fill_color":["#A71930","#FFFFFF","#000000","#BD3039","#0E3386","#000000","#FF0028","#002B5C","#333366","#0C2C56","#002D62","#004687","#BA0021","#FFFFFF","#FFFFFF","#FFFFFF","#042462","#FFFFFF","#132448","#003831","#FFFFFF","#FFFFFF","#FFFFFF","#002B5C","#000000","#FFFFFF","#092C5C","#003278","#134A8E","#FFFFFF"],"line_color":["#E3D4AD","#13274F","#ED4C09","#0D2B56","#CC3433","#CCCCCC","#000000","#E31937","#C4CED4","#FF6600","#EB6E1F","#74B4FA","#003263","#005A9C","#000000","#182B49","#D31145","#002D72","#CCCCCC","#EFB21E","#BA0C2F","#000000","#041E42","#006C67","#FD5A1E","#C41E3A","#8FBCE6","#C0111F","#1D2D5C","#AB0003"],"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["2.43","2.09","2.55","2.55","3.52","2.87","2.3","3.31","1.92","2.25","3.03","2.37","2.62","3.53","2.27","2.44","2.53","3.49","2.89","2.49","2.36","2.95","2.7","2.61","2.7","2.79","2.84","2.16","2.81","3.69"]},"selected":{"id":"4546","type":"Selection"},"selection_policy":{"id":"4545","type":"UnionRenderers"}},"id":"4515","type":"ColumnDataSource"},{"attributes":{"source":{"id":"4520","type":"ColumnDataSource"}},"id":"4524","type":"CDSView"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"selected":{"id":"4482","type":"Selection"},"selection_policy":{"id":"4481","type":"UnionRenderers"}},"id":"4458","type":"ColumnDataSource"},{"attributes":{},"id":"4509","type":"UnionRenderers"},{"attributes":{},"id":"4510","type":"Selection"},{"attributes":{"data_source":{"id":"4551","type":"ColumnDataSource"},"glyph":{"id":"4552","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4553","type":"Circle"},"selection_glyph":null,"view":{"id":"4555","type":"CDSView"}},"id":"4554","type":"GlyphRenderer"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"value":3.956333333333333}},"id":"4459","type":"Line"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"field":"fill_color"},"line_alpha":{"value":0.8},"line_color":{"field":"line_color"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"4486","type":"Circle"},{"attributes":{"line_alpha":0.8,"line_color":"blue","line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"4496","type":"Line"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["2.43","2.09","2.55","2.55","3.52","2.87","2.3","3.31","1.92","2.25","3.03","2.37","2.62","3.53","2.27","2.44","2.53","3.49","2.89","2.49","2.36","2.95","2.7","2.61","2.7","2.79","2.84","2.16","2.81","3.69"]},"selected":{"id":"4544","type":"Selection"},"selection_policy":{"id":"4543","type":"UnionRenderers"}},"id":"4495","type":"ColumnDataSource"},{"attributes":{},"id":"4745","type":"UnionRenderers"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["4.04","4.41","4.05","4.31","3.36","3.98","4.33","3.67","5.04","4.64","3.57","3.73","3.94","3.44","4.02","4.28","4.07","3.43","4.03","4.14","4.69","3.21","4.09","4.16","3.72","2.94","3.74","4.24","3.8","3.62"]},"selected":{"id":"4508","type":"Selection"},"selection_policy":{"id":"4507","type":"UnionRenderers"}},"id":"4471","type":"ColumnDataSource"},{"attributes":{},"id":"4744","type":"Selection"},{"attributes":{"source":{"id":"4490","type":"ColumnDataSource"}},"id":"4494","type":"CDSView"},{"attributes":{"fill_color":{"field":"fill_color"},"line_alpha":{"value":0.8},"line_color":{"field":"line_color"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"4552","type":"Circle"},{"attributes":{},"id":"4465","type":"CategoricalTickFormatter"},{"attributes":{},"id":"4543","type":"UnionRenderers"},{"attributes":{},"id":"4467","type":"BasicTickFormatter"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"4468","type":"BoxAnnotation"},{"attributes":{"source":{"id":"4525","type":"ColumnDataSource"}},"id":"4529","type":"CDSView"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"],"y":["1.33","1.412","1.317","1.356","1.152","1.32","1.362","1.186","1.513","1.368","1.201","1.282","1.264","1.184","1.319","1.358","1.33","1.179","1.297","1.299","1.448","1.239","1.31","1.313","1.229","1.254","1.232","1.363","1.214","1.206"]},"selected":{"id":"4744","type":"Selection"},"selection_policy":{"id":"4743","type":"UnionRenderers"}},"id":"4525","type":"ColumnDataSource"},{"attributes":{"label":{"value":"League AVG"},"renderers":[{"id":"4461","type":"GlyphRenderer"}]},"id":"4470","type":"LegendItem"},{"attributes":{},"id":"4434","type":"LinearScale"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"value":1.2945666666666669}},"id":"4521","type":"Line"},{"attributes":{"callback":null,"factors":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"id":"4428","type":"FactorRange"},{"attributes":{"data_source":{"id":"4515","type":"ColumnDataSource"},"glyph":{"id":"4516","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4517","type":"Circle"},"selection_glyph":null,"view":{"id":"4519","type":"CDSView"}},"id":"4518","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"4517","type":"Circle"},{"attributes":{},"id":"4544","type":"Selection"},{"attributes":{},"id":"4482","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"field":"fill_color"},"line_alpha":{"value":0.8},"line_color":{"field":"line_color"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"4516","type":"Circle"},{"attributes":{},"id":"4437","type":"CategoricalTicker"},{"attributes":{"formatter":{"id":"4465","type":"CategoricalTickFormatter"},"major_label_orientation":0.785,"ticker":{"id":"4437","type":"CategoricalTicker"}},"id":"4436","type":"CategoricalAxis"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"selected":{"id":"4512","type":"Selection"},"selection_policy":{"id":"4511","type":"UnionRenderers"}},"id":"4490","type":"ColumnDataSource"},{"attributes":{},"id":"4511","type":"UnionRenderers"},{"attributes":{"label":{"value":"ERA"},"renderers":[{"id":"4474","type":"GlyphRenderer"}]},"id":"4484","type":"LegendItem"},{"attributes":{"callback":null,"end":5.2,"start":1},"id":"4430","type":"Range1d"},{"attributes":{},"id":"4548","type":"Selection"},{"attributes":{"label":{"value":"WHIP"},"renderers":[{"id":"4528","type":"GlyphRenderer"}]},"id":"4550","type":"LegendItem"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":12},"x":{"field":"x"},"y":{"field":"y"}},"id":"4553","type":"Circle"},{"attributes":{},"id":"4547","type":"UnionRenderers"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[1,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"4473","type":"Line"},{"attributes":{"items":[{"id":"4470","type":"LegendItem"},{"id":"4484","type":"LegendItem"},{"id":"4514","type":"LegendItem"},{"id":"4550","type":"LegendItem"}],"orientation":"horizontal"},"id":"4469","type":"Legend"},{"attributes":{},"id":"4546","type":"Selection"},{"attributes":{"callback":null,"data":{"x":["ARI","ATL","BAL","BOS","CHC","CHW","CIN","CLE","COL","DET","HOU","KCR","LAA","LAD","MIA","MIL","MIN","NYM","NYY","OAK","PHI","PIT","SDP","SEA","SFG","STL","TBR","TEX","TOR","WSN"]},"selected":{"id":"4548","type":"Selection"},"selection_policy":{"id":"4547","type":"UnionRenderers"}},"id":"4520","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"4467","type":"BasicTickFormatter"},"ticker":{"id":"4441","type":"BasicTicker"}},"id":"4440","type":"LinearAxis"},{"attributes":{"data_source":{"id":"4471","type":"ColumnDataSource"},"glyph":{"id":"4472","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4473","type":"Line"},"selection_glyph":null,"view":{"id":"4475","type":"CDSView"}},"id":"4474","type":"GlyphRenderer"},{"attributes":{"label":{"value":"SO/W"},"renderers":[{"id":"4498","type":"GlyphRenderer"}]},"id":"4514","type":"LegendItem"},{"attributes":{"grid_line_color":null,"ticker":{"id":"4437","type":"CategoricalTicker"}},"id":"4439","type":"Grid"},{"attributes":{},"id":"4545","type":"UnionRenderers"},{"attributes":{},"id":"4432","type":"CategoricalScale"},{"attributes":{},"id":"4481","type":"UnionRenderers"},{"attributes":{"source":{"id":"4471","type":"ColumnDataSource"}},"id":"4475","type":"CDSView"},{"attributes":{"source":{"id":"4515","type":"ColumnDataSource"}},"id":"4519","type":"CDSView"},{"attributes":{},"id":"4512","type":"Selection"},{"attributes":{},"id":"4743","type":"UnionRenderers"},{"attributes":{"line_alpha":0.8,"line_dash":[1,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"4472","type":"Line"}],"root_ids":["4425"]},"title":"Bokeh Application","version":"1.3.4"}};
  var render_items = [{"docid":"094d77bf-f0f7-4189-92e3-f5bb8a05f4e3","roots":{"4425":"9019da04-6d4b-485b-83e9-75e16460d4a1"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        embed_document(root);
        clearInterval(timer);
      }
      attempts++;
      if (attempts > 100) {
        console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        clearInterval(timer);
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    </div>
        <section class="comments"><h2>Comments</h2>
                    <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="dpr",
            disqus_url="http://www.danielprusso.com/blog/2015-mlb-batting-and-pitching/",
        disqus_title="2015 MLB Batting and Pitching",
        disqus_identifier="cache/posts/2015-mlb-batting-and-pitching.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article><!--End of body content--><footer id="footer">
            Contents © 2022         <a href="mailto:russodanielp@gmail.com">Daniel P. Russo</a> 
            
        </footer>
</div>
</div>

        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
